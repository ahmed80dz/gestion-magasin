<% if @produit.errors.any? -%>
  $("flash").hide(300);
  $("erreur_produit").update("<%= escape_javascript(error_messages_for(@produit))%>");
  $("erreur_produit").show(300);
<% else -%>
  $("erreur_produit").hide(300);
  $("erreur_produit").update("<%= escape_javascript(flash[:notice])%>");
  $("erreur_produit").show(300);
  $("produit_<%= @produit.id %>").update("<%= escape_javascript( render(:partial => "produit",:locals => { :produit => @produit, :div  => false}) ) %>");
<% end -%>

